/* ===========================
   THEME TOKENS (global OK)
=========================== */
:root{
  --bg-grad: linear-gradient(135deg, #71b7e6, #9b59b6);

  --text: #ffffff;
  --muted: #dfe2f1;

  --surface: rgba(255,255,255,0.06);
  --surface-strong: rgba(255,255,255,0.08);
  --chip-bg: rgba(255,255,255,0.12);
  --chip-border: rgba(255,255,255,0.28);

  --border: rgba(255,255,255,0.22);
  --ring: rgba(255,255,255,0.12);

  --white: #ffffff;
  --radius: 20px;
  --outline: 2px;
  --container-max: 1500px;
}

@keyframes au-pan{ to{ background-position:200% 200%; } }

/* ===========================
   PAGE (scoped to .au-profile)
=========================== */
.au-page.au-profile{
  min-height: 100svh;
  background: var(--bg-grad) fixed;
  background-size: 160% 160%;
  animation: au-pan 20s linear infinite;
  color: var(--text);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Tahoma, Arial, sans-serif;
  padding: 34px 18px 80px;
}
.au-page.au-profile.au-dark{
  --bg-grad: #0B0D19;
  --text: #f5f5f5;
  --muted: #b7bccf;
  --surface: rgba(255,255,255,0.06);
  --surface-strong: rgba(255,255,255,0.10);
  --chip-bg: rgba(255,255,255,0.10);
  --chip-border: rgba(255,255,255,0.22);
  --border: rgba(255,255,255,0.18);
  --ring: rgba(255,255,255,0.12);

  background-size: auto;
  animation: none;
}

.au-profile .au-container { max-width: var(--container-max); margin: 0 auto; }

/* ===========================
   HEADER
=========================== */
.au-profile .au-header {
  display: flex; align-items: center; justify-content: space-between;
  gap: 16px; margin-bottom: 20px;
}
.au-profile .au-header h1 { margin: 0; letter-spacing: .3px; }
.au-profile .au-actions { display: flex; gap: 10px; }

/* ===========================
   GRID
=========================== */
.au-profile .au-grid {
  display: grid;
  grid-template-columns: 380px 1fr;
  gap: 20px;
}
@media (max-width: 920px){ .au-profile .au-grid { grid-template-columns: 1fr; } }

/* ===========================
   CARDS / GLASS
=========================== */
.au-profile .card {
  position: relative;
  background: linear-gradient(180deg, var(--surface), var(--surface-strong));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 18px;
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  box-shadow: 0 6px 24px rgba(0,0,0,.18), inset 0 1px 0 var(--ring);
  overflow: visible;
}
.au-profile .card.left { display: flex; flex-direction: column; align-items: center; }

/* ===========================
   CHIPS
=========================== */
.au-profile .chips { display: flex; gap: 8px; margin: 6px 0 6px; flex-wrap: wrap; justify-content: center; }
.au-profile .chip {
  padding: 6px 10px;
  background: var(--chip-bg);
  border: 1px solid var(--chip-border);
  border-radius: 999px;
  font-size: 12px;
}
.au-profile .dot { width:8px; height:8px; background:#33d69f; border-radius:999px; display:inline-block; margin-right:6px; }

/* ===========================
   AVATAR
=========================== */
.au-profile .avatar-wrap { margin: 8px 0 4px; display:grid; place-items:center; width:100%; }
.au-profile .avatar {
  position: relative;
  width: 220px; height: 220px;
  border-radius: 999px;
  overflow: hidden;
  border: 2px solid var(--border);
  cursor: pointer;
  transition: transform .2s ease, box-shadow .2s ease;
  box-shadow: 0 10px 28px rgba(0,0,0,.28);
  background: rgba(255,255,255,.03);
}
.au-profile .avatar:hover { transform: translateY(-2px); }
.au-profile .avatar img, .au-profile .avatar .avatar-placeholder {
  width: 100%; height: 100%; display: block;
  object-fit: cover; object-position: center center;
}
.au-profile .avatar-placeholder {
  display:grid; place-items:center; font-size:72px; color: var(--muted);
}
.au-profile .avatar-badge {
  position: absolute; bottom: 8px; right: 8px;
  font-size: 12px; padding: 6px 10px;
  background: var(--chip-bg); border: 1px solid var(--chip-border);
  border-radius: 999px; color: var(--white);
  backdrop-filter: blur(6px);
}

/* ===========================
   FIELDS
=========================== */
.au-profile .fields {
  display: grid; grid-template-columns: 1fr 1fr; gap: 14px;
}
@media (max-width: 720px){ .au-profile .fields { grid-template-columns: 1fr; } }

.au-profile .field { display: grid; gap: 6px; }
.au-profile .field > span { color: var(--muted); font-size: 13px; }
.au-profile .field-wrap { position: relative; }
.au-profile .field input {
  width: 100%;
  padding: 12px 44px 12px 14px;  /* space for the pencil button */
  border-radius: 12px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.06);
  color: var(--text);
  outline: none;
  transition: box-shadow .15s ease, border-color .15s ease;
}
.au-profile .field input:focus {
  border-color: var(--chip-border);
  box-shadow: 0 0 0 var(--outline) var(--ring);
}
.au-profile .field input.locked { color: var(--muted); cursor: default; }

.au-profile .icon-pencil {
  position: absolute; right: 8px; top: 50%; transform: translateY(-50%);
  width: 32px; height: 32px; border-radius: 8px;
  border: 1px solid var(--border); background: transparent; color: var(--text);
  cursor: pointer; font-size: 16px; line-height: 1;
}
.au-profile .icon-pencil:hover { box-shadow: 0 4px 12px rgba(0,0,0,.15); transform: translateY(-50%) scale(1.03); }
.au-profile .icon-pencil:hover::after{
  content:'Edit'; position:absolute; right:36px; top:50%; transform:translateY(-50%);
  background: rgba(0,0,0,.75); color:#fff; font-size:12px; padding:4px 8px; border-radius:8px;
  white-space:nowrap;
}
.au-profile .icon-pencil.active { background: rgba(255,255,255,.12); }

/* ===========================
   BUTTONS
=========================== */
.au-profile .btn {
  appearance: none;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.06);
  color: var(--text);
  padding: 10px 14px;
  border-radius: 12px;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
}
.au-profile .btn:hover { transform: translateY(-1px); box-shadow: 0 6px 14px rgba(0,0,0,.2); }
.au-profile .btn:disabled { opacity: .6; cursor: not-allowed; }
.au-profile .btn.primary { background: rgba(255,255,255,.14); }
.au-profile .btn.ghost   { background: transparent; }
.au-profile .btns-row { display: flex; gap: 10px; margin-top: 14px; }

/* ===========================
   ALERTS / LOADER
=========================== */
.au-profile .alert {
  margin: 10px 0 16px; padding: 12px 14px;
  border-radius: 12px; border: 1px solid var(--border);
  background: rgba(255,255,255,.06); font-size: 14px;
}
.au-profile .alert.success { border-color: rgba(50,205,50,.35); }
.au-profile .alert.error   { border-color: rgba(255,99,71,.45); }
.au-profile .loader { opacity: .9; }

/* ===========================
   MODAL
=========================== */
.au-profile .modal-backdrop {
  position: fixed; inset: 0; background: rgba(0,0,0,.45);
  display: grid; place-items: center; padding: 20px; z-index: 50;
}
.au-profile .modal { width: 100%; max-width: 560px; }
.au-profile .modal-header { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 10px; }
.au-profile .icon-btn {
  border: 1px solid var(--border); background: transparent; color: var(--text);
  border-radius: 10px; width: 36px; height: 36px; cursor: pointer;
}
.au-profile .modal-body { display: grid; gap: 12px; }
.au-profile .pw { position: relative; display: flex; align-items: center; }
.au-profile .pw input { width: 100%; padding-right: 44px; }
.au-profile .eye {
  position: absolute; right: 8px; border: none; background: transparent;
  cursor: pointer; font-size: 20px; line-height: 1; color: var(--muted);
}
